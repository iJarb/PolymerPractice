<link rel="import" href="../bower_components/polymer/polymer-element.html"/>

<dom-module id="my-profile-home">
  <template>
    <my-profile-data id="myData"></my-profile-data>
    Home page...
    <div>[[loginUser.username]]</div>
  </template>
  <script>
      class MyProfileHome extends Polymer.Element {
          static get properties() { return {
              visible: {
                  type: Boolean,
                  value: false
              }
          }}

          static get is() {
              return 'my-profile-home';   // must be same as dom-module id
          }

          static get observers() { return [
              '_showHome(visible)'
          ]}

          _showHome(visible) {
              if (!visible) {
                  return;
              }
              let theTitle = "Home";
              this.loginUser = this.$.myData.getLoginUser();
              if (this.loginUser !== null) {
                  theTitle = this.loginUser.username;
              }

              this.dispatchEvent(new CustomEvent('change-page', {
                  bubbles: true, composed: true, detail: { title: theTitle }}));
          }
      }

      customElements.define(MyProfileHome.is, MyProfileHome);
  </script>
</dom-module>
